package com.avinash.HibernateDemo;

import java.util.Collection;

import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.Transaction;
import org.hibernate.cfg.Configuration;

/**
 * Hello world!
 *
 */
public class App 
{
    public static void main( String[] args )
    {
//    	Laptop laptop = new Laptop();
//    	laptop.setLid(101);
//    	laptop.setLname("lenovo");
    	
    	
//    	Student s = new Student();
//    	s.setMarks(50);
//    	s.setName("avinash");
//    	s.setRollno(1);
//    	s.setLaptop(laptop);
//    	s.getLaptop().add(laptop);
//    	
//    	laptop.getStudents().add(s);
    	
//    	Alien telusko = new Alien();
//    	telusko.setAid(101);
//    	telusko.setColor("green");
//    	AlienName an = new AlienName();
//    	an.setFname("Avinash");
//    	an.setMname("kumar");
//    	an.setLname("gautam");
//    	telusko.setAname(an);
//    	telusko.setAid(103);
//    	telusko.setAname("kumar");
//    	telusko.setColor("yellow");
    	
//    	Configuration con = new Configuration().configure().addAnnotatedClass(Student.class).addAnnotatedClass(Laptop.class);
    	Configuration con = new Configuration().configure().addAnnotatedClass(Laptop.class).addAnnotatedClass(Alien.class);
    	SessionFactory sf = con.buildSessionFactory();
    	Session session = sf.openSession();
    	
    	Transaction tx = session.beginTransaction();
    	
    	Alien a1 = session.get(Alien.class, 1);
    	System.out.println(a1.getAname());
    	Collection<Laptop> laps = a1.getLaps();
    	
    	for(Laptop l: laps)
    	{
    		System.out.println(l);
    	}
//    	telusko = (Alien)session.get(Alien.class, 101);
//    	session.persist(laptop);
//    	session.persist(s);
//    	session.persist(telusko);
    	
    	System.out.println("Hi");
    	tx.commit();
//    	System.out.println(telusko);
    	 
        //System.out.println( "Hello World!" );
    }
}
